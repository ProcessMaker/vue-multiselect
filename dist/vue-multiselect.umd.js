(function(g,m){typeof exports=="object"&&typeof module<"u"?m(exports):typeof define=="function"&&define.amd?define(["exports"],m):(g=typeof globalThis<"u"?globalThis:g||self,m(g.VueMultiselect={}))})(this,function(g){"use strict";function m(t){return t===0?!1:Array.isArray(t)&&t.length===0?!0:!t}function Ee(t){return(...e)=>!t(...e)}function Le(t,e){return t===void 0&&(t="undefined"),t===null&&(t="null"),t===!1&&(t="false"),t.toString().toLowerCase().indexOf(e.trim())!==-1}function K(t,e,i,n){return t.filter(r=>Le(n(r,i),e))}function Te(t){return t.filter(e=>!e.$isLabel)}function C(t,e){return i=>i.reduce((n,r)=>r[t]&&r[t].length?(n.push({$groupLabel:r[e],$isLabel:!0}),n.concat(r[t])):n,[])}function ke(t,e,i,n,r){return s=>s.map(a=>{if(!a[i])return console.warn("Options passed to vue-multiselect do not contain groups, despite the config."),[];const l=K(a[i],t,e,r);return l.length?{[n]:a[n],[i]:l}:[]})}const Z=(...t)=>e=>t.reduce((i,n)=>n(i),e);let J=0;const Q={data(){return{search:"",isOpen:!1,preferredOpenDirection:"below",optimizedHeight:this.maxHeight}},props:{internalSearch:{type:Boolean,default:!0},options:{type:Array,required:!0},multiple:{type:Boolean,default:!1},value:{type:null,default(){return[]}},trackBy:{type:String},label:{type:String},searchable:{type:Boolean,default:!0},clearOnSelect:{type:Boolean,default:!0},hideSelected:{type:Boolean,default:!1},placeholder:{type:String,default:"Select option"},allowEmpty:{type:Boolean,default:!0},resetAfter:{type:Boolean,default:!1},closeOnSelect:{type:Boolean,default:!0},customLabel:{type:Function,default(t,e){return m(t)?"":e?t[e]:t}},taggable:{type:Boolean,default:!1},tagPlaceholder:{type:String,default:"Press enter to create a tag"},tagPosition:{type:String,default:"top"},max:{type:[Number,Boolean],default:!1},id:{default:null},optionsLimit:{type:Number,default:1e3},groupValues:{type:String},groupLabel:{type:String},groupSelect:{type:Boolean,default:!1},blockKeys:{type:Array,default(){return[]}},preserveSearch:{type:Boolean,default:!1},preselectFirst:{type:Boolean,default:!1}},mounted(){!this.multiple&&this.max&&console.warn("[Vue-Multiselect warn]: Max prop should not be used when prop Multiple equals false."),this.preselectFirst&&!this.internalValue.length&&this.options.length&&this.select(this.filteredOptions[0]),this.pointer=this.initialPointer()},beforeCreate(){this.uuid=J.toString(),J+=1},computed:{internalValue(){return this.value||this.value===0?Array.isArray(this.value)?this.value:[this.value]:[]},filteredOptions(){const t=this.search||"",e=t.toLowerCase().trim();let i=this.options.concat();return this.internalSearch?i=this.groupValues?this.filterAndFlat(i,e,this.label):K(i,e,this.label,this.customLabel):i=this.groupValues?C(this.groupValues,this.groupLabel)(i):i,i=this.hideSelected?i.filter(Ee(this.isSelected)):i,this.taggable&&e.length&&!this.isExistingOption(e)&&(this.tagPosition==="bottom"?i.push({isTag:!0,label:t}):i.unshift({isTag:!0,label:t})),i.slice(0,this.optionsLimit)},valueKeys(){return this.trackBy?this.internalValue.map(t=>t[this.trackBy]):this.internalValue},optionKeys(){return(this.groupValues?this.flatAndStrip(this.options):this.options).map(e=>this.customLabel(e,this.label).toString().toLowerCase())},currentOptionLabel(){return this.multiple?this.searchable?"":this.placeholder:this.internalValue.length?this.getOptionLabel(this.internalValue[0]):this.searchable?"":this.placeholder}},watch:{internalValue(){this.resetAfter&&this.internalValue.length&&(this.search="",this.$emit("input",this.multiple?[]:null))},search(){this.$emit("search-change",this.search,this.id)}},methods:{getValue(){return this.multiple?this.internalValue:this.internalValue.length===0?null:this.internalValue[0]},filterAndFlat(t,e,i){return Z(ke(e,i,this.groupValues,this.groupLabel,this.customLabel),C(this.groupValues,this.groupLabel))(t)},flatAndStrip(t){return Z(C(this.groupValues,this.groupLabel),Te)(t)},updateSearch(t){this.search=t},isExistingOption(t){return this.options?this.optionKeys.indexOf(t)>-1:!1},isSelected(t){const e=this.trackBy?t[this.trackBy]:t;return this.valueKeys.indexOf(e)>-1},initialPointer(){const t=this.options.findIndex(e=>e===this.internalValue[0]);return t===-1?0:t},isOptionDisabled(t){return!!t.$isDisabled},getOptionLabel(t){if(m(t))return"";if(t.isTag)return t.label;if(t.$isLabel)return t.$groupLabel;let e=this.customLabel(t,this.label);return m(e)?"":e},select(t,e){if(t.$isLabel&&this.groupSelect){this.selectGroup(t);return}if(!(this.blockKeys.indexOf(e)!==-1||this.disabled||t.$isDisabled||t.$isLabel)&&!(this.max&&this.multiple&&this.internalValue.length===this.max)&&!(e==="Tab"&&!this.pointerDirty)){if(t.isTag)this.$emit("tag",t.label,this.id),this.search="",this.closeOnSelect&&!this.multiple&&this.deactivate();else{if(this.isSelected(t)){e!=="Tab"&&this.removeElement(t);return}this.$emit("select",t,this.id),this.multiple?this.$emit("input",this.internalValue.concat([t]),this.id):this.$emit("input",t,this.id),this.clearOnSelect&&(this.search="")}this.closeOnSelect&&this.deactivate()}},selectGroup(t){const e=this.options.find(i=>i[this.groupLabel]===t.$groupLabel);if(e){if(this.wholeGroupSelected(e)){this.$emit("remove",e[this.groupValues],this.id);const i=this.internalValue.filter(n=>e[this.groupValues].indexOf(n)===-1);this.$emit("input",i,this.id)}else{const i=e[this.groupValues].filter(n=>!(this.isOptionDisabled(n)||this.isSelected(n)));this.$emit("select",i,this.id),this.$emit("input",this.internalValue.concat(i),this.id)}this.closeOnSelect&&this.deactivate()}},wholeGroupSelected(t){return t[this.groupValues].every(e=>this.isSelected(e)||this.isOptionDisabled(e))},wholeGroupDisabled(t){return t[this.groupValues].every(this.isOptionDisabled)},removeElement(t,e=!0){if(this.disabled||t.$isDisabled)return;if(!this.allowEmpty&&this.internalValue.length<=1){this.deactivate();return}const i=typeof t=="object"?this.valueKeys.indexOf(t[this.trackBy]):this.valueKeys.indexOf(t);if(this.$emit("remove",t,this.id),this.multiple){const n=this.internalValue.slice(0,i).concat(this.internalValue.slice(i+1));this.$emit("input",n,this.id)}else this.$emit("input",null,this.id);this.closeOnSelect&&e&&this.deactivate()},removeLastElement(){this.blockKeys.indexOf("Delete")===-1&&this.search.length===0&&Array.isArray(this.internalValue)&&this.internalValue.length&&this.removeElement(this.internalValue[this.internalValue.length-1],!1)},activate(){this.isOpen||this.disabled||(this.adjustPosition(),this.groupValues&&this.pointer===0&&this.filteredOptions.length&&(this.pointer=1),this.isOpen=!0,this.searchable?(this.preserveSearch||(this.search=""),this.$nextTick(()=>this.$refs.search&&this.$refs.search.focus())):this.$el.focus(),this.$emit("open",this.id))},deactivate(){this.isOpen&&(this.isOpen=!1,this.searchable?this.$refs.search&&this.$refs.search.blur():this.$el.blur(),this.preserveSearch||(this.search=""),this.$emit("close",this.getValue(),this.id))},toggle(){this.isOpen?this.deactivate():this.activate()},adjustPosition(){if(typeof window>"u")return;const t=this.$el.getBoundingClientRect().top,e=window.innerHeight-this.$el.getBoundingClientRect().bottom;e>this.maxHeight||e>t||this.openDirection==="below"||this.openDirection==="bottom"?(this.preferredOpenDirection="below",this.optimizedHeight=Math.min(e-40,this.maxHeight)):(this.preferredOpenDirection="above",this.optimizedHeight=Math.min(t-40,this.maxHeight))}}},Y={data(){return{pointer:0,pointerDirty:!1}},props:{showPointer:{type:Boolean,default:!0},optionHeight:{type:Number,default:40}},computed:{pointerPosition(){return this.pointer*this.optionHeight},visibleElements(){return this.optimizedHeight/this.optionHeight}},watch:{filteredOptions(){this.pointerAdjust()},isOpen(){this.pointerDirty=!1},pointer(){this.$refs.search&&this.$refs.search.setAttribute("aria-activedescendant","option-"+this.uuid+"-"+this.pointer.toString())}},methods:{optionHighlight(t,e){return{"multiselect__option--highlight":t===this.pointer&&this.showPointer,"multiselect__option--selected":this.isSelected(e)}},groupHighlight(t,e){if(!this.groupSelect)return["multiselect__option--disabled",{"multiselect__option--group":e.$isLabel}];const i=this.options.find(n=>n[this.groupLabel]===e.$groupLabel);return i&&!this.wholeGroupDisabled(i)?["multiselect__option--group",{"multiselect__option--highlight":t===this.pointer&&this.showPointer},{"multiselect__option--group-selected":this.wholeGroupSelected(i)}]:"multiselect__option--disabled"},addPointerElement({key:t}="Enter"){this.filteredOptions.length>0&&this.select(this.filteredOptions[this.pointer],t)},pointerForward(){this.pointer<this.filteredOptions.length-1&&(this.pointer++,this.$refs.list.scrollTop<=this.pointerPosition-(this.visibleElements-1)*this.optionHeight&&(this.$refs.list.scrollTop=this.pointerPosition-(this.visibleElements-1)*this.optionHeight),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()),this.pointerDirty=!0},pointerBackward(){this.pointer>0?(this.pointer--,this.$refs.list.scrollTop>=this.pointerPosition&&(this.$refs.list.scrollTop=this.pointerPosition),this.filteredOptions[this.pointer]&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerBackward()):this.filteredOptions[this.pointer]&&this.filteredOptions[0].$isLabel&&!this.groupSelect&&this.pointerForward(),this.pointerDirty=!0},pointerReset(){this.closeOnSelect&&(this.pointer=0,this.$refs.list&&(this.$refs.list.scrollTop=0))},pointerAdjust(){this.pointer>=this.filteredOptions.length-1&&(this.pointer=this.filteredOptions.length?this.filteredOptions.length-1:0),this.filteredOptions.length>0&&this.filteredOptions[this.pointer].$isLabel&&!this.groupSelect&&this.pointerForward()},pointerSet(t){this.pointer=t,this.pointerDirty=!0}}};var P={},$=function(t){return typeof t=="object"?t!==null:typeof t=="function"},Ve=$,B=function(t){if(!Ve(t))throw TypeError(t+" is not an object!");return t},x=function(t){try{return!!t()}catch{return!0}},O=!x(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),b={},De={get exports(){return b},set exports(t){b=t}},Ce=De.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=Ce);var A,ee;function Pe(){if(ee)return A;ee=1;var t=$,e=b.document,i=t(e)&&t(e.createElement);return A=function(n){return i?e.createElement(n):{}},A}var $e=!O&&!x(function(){return Object.defineProperty(Pe()("div"),"a",{get:function(){return 7}}).a!=7}),w=$,Be=function(t,e){if(!w(t))return t;var i,n;if(e&&typeof(i=t.toString)=="function"&&!w(n=i.call(t))||typeof(i=t.valueOf)=="function"&&!w(n=i.call(t))||!e&&typeof(i=t.toString)=="function"&&!w(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},te=B,Ae=$e,Re=Be,Me=Object.defineProperty;P.f=O?Object.defineProperty:function(e,i,n){if(te(e),i=Re(i,!0),te(n),Ae)try{return Me(e,i,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[i]=n.value),e};var je=P.f,ie=Function.prototype,Ne=/^\s*function ([^ (]*)/,re="name";re in ie||O&&je(ie,re,{configurable:!0,get:function(){try{return(""+this).match(Ne)[1]}catch{return""}}});var Ie=Object.is||function(e,i){return e===i?e!==0||1/e===1/i:e!=e&&i!=i},Fe={}.toString,ne=function(t){return Fe.call(t).slice(8,-1)},S={},Ge={get exports(){return S},set exports(t){S=t}},E={},He={get exports(){return E},set exports(t){E=t}},y={},Ue={get exports(){return y},set exports(t){y=t}},ze=Ue.exports={version:"2.6.12"};typeof __e=="number"&&(__e=ze);var qe=y,se=b,ae="__core-js_shared__",le=se[ae]||(se[ae]={});(He.exports=function(t,e){return le[t]||(le[t]=e!==void 0?e:{})})("versions",[]).push({version:qe.version,mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"});var We=0,Xe=Math.random(),oe=function(t){return"Symbol(".concat(t===void 0?"":t,")_",(++We+Xe).toString(36))},R=E("wks"),Ke=oe,M=b.Symbol,ue=typeof M=="function",Ze=Ge.exports=function(t){return R[t]||(R[t]=ue&&M[t]||(ue?M:Ke)("Symbol."+t))};Ze.store=R;var j=ne,Je=S("toStringTag"),Qe=j(function(){return arguments}())=="Arguments",Ye=function(t,e){try{return t[e]}catch{}},et=function(t){var e,i,n;return t===void 0?"Undefined":t===null?"Null":typeof(i=Ye(e=Object(t),Je))=="string"?i:Qe?j(e):(n=j(e))=="Object"&&typeof e.callee=="function"?"Arguments":n},tt=et,it=RegExp.prototype.exec,rt=function(t,e){var i=t.exec;if(typeof i=="function"){var n=i.call(t,e);if(typeof n!="object")throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if(tt(t)!=="RegExp")throw new TypeError("RegExp#exec called on incompatible receiver");return it.call(t,e)},nt=B,st=function(){var t=nt(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},at=st,L=RegExp.prototype.exec,lt=String.prototype.replace,ce=L,T="lastIndex",N=function(){var t=/a/,e=/b*/g;return L.call(t,"a"),L.call(e,"a"),t[T]!==0||e[T]!==0}(),I=/()??/.exec("")[1]!==void 0,ot=N||I;ot&&(ce=function(e){var i=this,n,r,s,a;return I&&(r=new RegExp("^"+i.source+"$(?!\\s)",at.call(i))),N&&(n=i[T]),s=L.call(i,e),N&&s&&(i[T]=i.global?s.index+s[0].length:n),I&&s&&s.length>1&&lt.call(s[0],r,function(){for(a=1;a<arguments.length-2;a++)arguments[a]===void 0&&(s[a]=void 0)}),s});var he=ce,ut=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},ct=P,ht=ut,F=O?function(t,e,i){return ct.f(t,e,ht(1,i))}:function(t,e,i){return t[e]=i,t},k={},ft={get exports(){return k},set exports(t){k=t}},pt={}.hasOwnProperty,dt=function(t,e){return pt.call(t,e)},gt=E("native-function-to-string",Function.toString),vt=b,V=F,fe=dt,G=oe("src"),H=gt,pe="toString",mt=(""+H).split(pe);y.inspectSource=function(t){return H.call(t)},(ft.exports=function(t,e,i,n){var r=typeof i=="function";r&&(fe(i,"name")||V(i,"name",e)),t[e]!==i&&(r&&(fe(i,G)||V(i,G,t[e]?""+t[e]:mt.join(String(e)))),t===vt?t[e]=i:n?t[e]?t[e]=i:V(t,e,i):(delete t[e],V(t,e,i)))})(Function.prototype,pe,function(){return typeof this=="function"&&this[G]||H.call(this)});var bt=function(t){if(typeof t!="function")throw TypeError(t+" is not a function!");return t},_t=bt,yt=function(t,e,i){if(_t(t),e===void 0)return t;switch(i){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,s){return t.call(e,n,r,s)}}return function(){return t.apply(e,arguments)}},_=b,D=y,xt=F,Ot=k,de=yt,U="prototype",f=function(t,e,i){var n=t&f.F,r=t&f.G,s=t&f.S,a=t&f.P,l=t&f.B,o=r?_:s?_[e]||(_[e]={}):(_[e]||{})[U],c=r?D:D[e]||(D[e]={}),p=c[U]||(c[U]={}),u,h,d,v;r&&(i=e);for(u in i)h=!n&&o&&o[u]!==void 0,d=(h?o:i)[u],v=l&&h?de(d,_):a&&typeof d=="function"?de(Function.call,d):d,o&&Ot(o,u,d,t&f.U),c[u]!=d&&xt(c,u,v),a&&p[u]!=d&&(p[u]=d)};_.core=D,f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128;var ge=f,ve=he;ge({target:"RegExp",proto:!0,forced:ve!==/./.exec},{exec:ve});var me=function(t){if(t==null)throw TypeError("Can't call method on  "+t);return t},wt=k,St=F,z=x,Et=me,be=S,Lt=he,Tt=be("species"),kt=!z(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"}),Vt=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return i.length===2&&i[0]==="a"&&i[1]==="b"}(),Dt=function(t,e,i){var n=be(t),r=!z(function(){var p={};return p[n]=function(){return 7},""[t](p)!=7}),s=r?!z(function(){var p=!1,u=/a/;return u.exec=function(){return p=!0,null},t==="split"&&(u.constructor={},u.constructor[Tt]=function(){return u}),u[n](""),!p}):void 0;if(!r||!s||t==="replace"&&!kt||t==="split"&&!Vt){var a=/./[n],l=i(Et,n,""[t],function(u,h,d,v,si){return h.exec===Lt?r&&!si?{done:!0,value:a.call(h,d,v)}:{done:!0,value:u.call(d,h,v)}:{done:!1}}),o=l[0],c=l[1];wt(String.prototype,t,o),St(RegExp.prototype,n,e==2?function(p,u){return c.call(p,this,u)}:function(p){return c.call(p,this)})}},Ct=B,_e=Ie,Pt=rt;Dt("search",1,function(t,e,i,n){return[function(s){var a=t(this),l=s==null?void 0:s[e];return l!==void 0?l.call(s,a):new RegExp(s)[e](String(a))},function(r){var s=n(i,r,this);if(s.done)return s.value;var a=Ct(r),l=String(this),o=a.lastIndex;_e(o,0)||(a.lastIndex=0);var c=Pt(a,l);return _e(a.lastIndex,o)||(a.lastIndex=o),c===null?-1:c.index}]});var $t=ne,Bt=Object("z").propertyIsEnumerable(0)?Object:function(t){return $t(t)=="String"?t.split(""):Object(t)},At=Bt,Rt=me,Mt=function(t){return At(Rt(t))},jt=Math.ceil,Nt=Math.floor,ye=function(t){return isNaN(t=+t)?0:(t>0?Nt:jt)(t)},It=ye,Ft=Math.min,Gt=function(t){return t>0?Ft(It(t),9007199254740991):0},Ht=ye,Ut=Math.max,zt=Math.min,qt=function(t,e){return t=Ht(t),t<0?Ut(t+e,0):zt(t,e)},Wt=Mt,Xt=Gt,Kt=qt,Zt=function(t){return function(e,i,n){var r=Wt(e),s=Xt(r.length),a=Kt(n,s),l;if(t&&i!=i){for(;s>a;)if(l=r[a++],l!=l)return!0}else for(;s>a;a++)if((t||a in r)&&r[a]===i)return t||a||0;return!t&&-1}},q,xe;function Jt(){if(xe)return q;xe=1;var t=x;return q=function(e,i){return!!e&&t(function(){i?e.call(null,function(){},1):e.call(null)})},q}var W=ge,Qt=Zt(!1),X=[].indexOf,Oe=!!X&&1/[1].indexOf(1,-0)<0;W(W.P+W.F*(Oe||!Jt()(X)),"Array",{indexOf:function(e){return Oe?X.apply(this,arguments)||0:Qt(this,e,arguments[1])}});var Yt=function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"multiselect",class:{"multiselect--active":e.isOpen,"multiselect--disabled":e.disabled,"multiselect--above":e.isAbove},attrs:{tabindex:e.searchable?-1:e.tabindex,role:"combobox","aria-expanded":e.isOpen?"true":"false","aria-owns":"listbox-"+e.uuid,"aria-haspopup":"listbox"},on:{focus:function(s){return e.activate()},blur:function(s){e.searchable||e.deactivate()},keydown:[function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"down",40,r.key,["Down","ArrowDown"])||r.target!==r.currentTarget?null:(r.preventDefault(),e.pointerForward())},function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"up",38,r.key,["Up","ArrowUp"])||r.target!==r.currentTarget?null:(r.preventDefault(),e.pointerBackward())}],keypress:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")&&e._k(s.keyCode,"tab",9,s.key,"Tab")||(s.stopPropagation(),s.target!==s.currentTarget)?null:e.addPointerElement(s)},keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"esc",27,s.key,["Esc","Escape"])?null:e.deactivate()}}},[e._t("caret",function(){return[n("div",{staticClass:"multiselect__select",on:{mousedown:function(s){return s.preventDefault(),s.stopPropagation(),e.toggle()}}})]},{toggle:e.toggle}),e._t("clear",null,{search:e.search}),n("div",{ref:"tags",staticClass:"multiselect__tags"},[e._t("selection",function(){return[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visibleValues.length>0,expression:"visibleValues.length > 0"}],staticClass:"multiselect__tags-wrap"},[e._l(e.visibleValues,function(r,s){return[e._t("tag",function(){return[n("span",{key:s,staticClass:"multiselect__tag"},[n("span",{domProps:{textContent:e._s(e.getOptionLabel(r))}}),n("i",{staticClass:"multiselect__tag-icon",attrs:{role:"button","aria-label":"Remove Element"},on:{keypress:function(l){return!l.type.indexOf("key")&&e._k(l.keyCode,"enter",13,l.key,"Enter")?null:(l.preventDefault(),e.removeElement(r))},mousedown:function(l){return l.preventDefault(),e.removeElement(r)}}})])]},{option:r,search:e.search,remove:e.removeElement})]})],2),e.internalValue&&e.internalValue.length>e.limit?[e._t("limit",function(){return[n("strong",{staticClass:"multiselect__strong",domProps:{textContent:e._s(e.limitText(e.internalValue.length-e.limit))}})]})]:e._e()]},{search:e.search,remove:e.removeElement,values:e.visibleValues,isOpen:e.isOpen}),n("transition",{attrs:{name:"multiselect__loading"}},[e._t("loading",function(){return[n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"multiselect__spinner"})]})],2),e.searchable?n("input",{ref:"search",staticClass:"multiselect__input",style:e.inputStyle,attrs:{name:e.name,id:e.id,type:"text",autocomplete:"off",spellcheck:"false",placeholder:e.placeholder,"aria-placeholder":e.placeholder,"aria-autocomplete":"list",disabled:e.disabled,tabindex:e.tabindex,"aria-controls":"listbox-"+e.uuid},domProps:{value:e.search},on:{input:function(s){return e.updateSearch(s.target.value)},focus:function(s){return s.preventDefault(),e.activate()},blur:function(s){return s.preventDefault(),e.deactivate()},keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"esc",27,s.key,["Esc","Escape"])?null:e.deactivate()},keydown:[function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"down",40,r.key,["Down","ArrowDown"])?null:(r.preventDefault(),e.pointerForward())},function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"up",38,r.key,["Up","ArrowUp"])?null:(r.preventDefault(),e.pointerBackward())},function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"delete",[8,46],r.key,["Backspace","Delete","Del"])?null:(r.stopPropagation(),e.removeLastElement())}],keypress:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")||(s.preventDefault(),s.stopPropagation(),s.target!==s.currentTarget)?null:e.addPointerElement(s)}}}):e._e(),e.isSingleLabelVisible?n("span",{staticClass:"multiselect__single",on:{mousedown:function(s){return s.preventDefault(),e.toggle.apply(null,arguments)}}},[e._t("singleLabel",function(){return[[e._v(e._s(e.currentOptionLabel))]]},{option:e.singleValue})],2):e._e(),e.isPlaceholderVisible?n("span",{staticClass:"multiselect__placeholder",on:{mousedown:function(s){return s.preventDefault(),e.toggle.apply(null,arguments)}}},[e._t("placeholder",function(){return[e._v(" "+e._s(e.placeholder)+" ")]})],2):e._e()],2),n("transition",{attrs:{name:"multiselect"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}],ref:"list",staticClass:"multiselect__content-wrapper",style:{maxHeight:e.optimizedHeight+"px"},attrs:{tabindex:"-1"},on:{focus:e.activate,mousedown:function(s){s.preventDefault()}}},[n("ul",{staticClass:"multiselect__content",style:e.contentStyle,attrs:{role:"listbox",id:"listbox-"+e.uuid}},[e._t("beforeList"),e.multiple&&e.max===e.internalValue.length?n("li",[n("span",{staticClass:"multiselect__option"},[e._t("maxElements",function(){return[e._v("Maximum of "+e._s(e.max)+" options selected. First remove a selected option to select another.")]})],2)]):e._e(),!e.max||e.internalValue.length<e.max?e._l(e.filteredOptions,function(r,s){return n("li",{key:s,staticClass:"multiselect__element",attrs:{id:"option-"+e.uuid+"-"+s,role:r&&(r.$isLabel||r.$isDisabled)?null:"option","aria-selected":e.isSelected(r)?"true":"false","aria-label":e.getOptionLabel(r)+". "+(e.isSelected(r)?e.deselectLabelText:e.selectLabelText)}},[r&&(r.$isLabel||r.$isDisabled)?e._e():n("span",{staticClass:"multiselect__option",class:e.optionHighlight(s,r),attrs:{"data-select":r&&r.isTag?e.tagPlaceholder:e.selectLabelText,"data-selected":e.selectedLabelText,"data-deselect":e.deselectLabelText},on:{click:function(l){return l.stopPropagation(),e.select(r)},mouseenter:function(l){return l.target!==l.currentTarget?null:e.pointerSet(s)}}},[e._t("option",function(){return[n("span",[e._v(e._s(e.getOptionLabel(r)))])]},{option:r,search:e.search,index:s})],2),r&&(r.$isLabel||r.$isDisabled)?n("span",{staticClass:"multiselect__option",class:e.groupHighlight(s,r),attrs:{"data-select":e.groupSelect&&e.selectGroupLabelText,"data-deselect":e.groupSelect&&e.deselectGroupLabelText},on:{mouseenter:function(l){if(l.target!==l.currentTarget)return null;e.groupSelect&&e.pointerSet(s)},mousedown:function(l){return l.preventDefault(),e.selectGroup(r)}}},[e._t("option",function(){return[n("span",[e._v(e._s(e.getOptionLabel(r)))])]},{option:r,search:e.search,index:s})],2):e._e()])}):e._e(),n("li",{directives:[{name:"show",rawName:"v-show",value:e.showNoResults&&e.filteredOptions.length===0&&e.search&&!e.loading,expression:"showNoResults && (filteredOptions.length === 0 && search && !loading)"}]},[n("span",{staticClass:"multiselect__option"},[e._t("noResult",function(){return[e._v("No elements found. Consider changing the search query.")]},{search:e.search})],2)]),n("li",{directives:[{name:"show",rawName:"v-show",value:e.showNoOptions&&e.options.length===0&&!e.search&&!e.loading,expression:"showNoOptions && (options.length === 0 && !search && !loading)"}]},[n("span",{staticClass:"multiselect__option"},[e._t("noOptions",function(){return[e._v("List is empty.")]})],2)]),e._t("afterList")],2)])])],2)},ei=[];const ai="";function ti(t,e,i,n,r,s,a,l){var o=typeof t=="function"?t.options:t;e&&(o.render=e,o.staticRenderFns=i,o._compiled=!0),n&&(o.functional=!0),s&&(o._scopeId="data-v-"+s);var c;if(a?(c=function(h){h=h||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!h&&typeof __VUE_SSR_CONTEXT__<"u"&&(h=__VUE_SSR_CONTEXT__),r&&r.call(this,h),h&&h._registeredComponents&&h._registeredComponents.add(a)},o._ssrRegister=c):r&&(c=l?function(){r.call(this,(o.functional?this.parent:this).$root.$options.shadowRoot)}:r),c)if(o.functional){o._injectStyles=c;var p=o.render;o.render=function(d,v){return c.call(v),p(d,v)}}else{var u=o.beforeCreate;o.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:o}}const ii={name:"vue-multiselect",mixins:[Q,Y],props:{name:{type:String,default:""},selectLabel:{type:String,default:"Press enter to select"},selectGroupLabel:{type:String,default:"Press enter to select group"},selectedLabel:{type:String,default:"Selected"},deselectLabel:{type:String,default:"Press enter to remove"},deselectGroupLabel:{type:String,default:"Press enter to deselect group"},showLabels:{type:Boolean,default:!0},limit:{type:Number,default:99999},maxHeight:{type:Number,default:300},limitText:{type:Function,default:t=>`and ${t} more`},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},openDirection:{type:String,default:""},showNoOptions:{type:Boolean,default:!0},showNoResults:{type:Boolean,default:!0},tabindex:{type:Number,default:0}},computed:{isSingleLabelVisible(){return(this.singleValue||this.singleValue===0)&&(!this.isOpen||!this.searchable)&&!this.visibleValues.length},isPlaceholderVisible(){return!this.internalValue.length&&(!this.searchable||!this.isOpen)},visibleValues(){return this.multiple?this.internalValue.slice(0,this.limit):[]},singleValue(){return this.internalValue[0]},deselectLabelText(){return this.showLabels?this.deselectLabel:""},deselectGroupLabelText(){return this.showLabels?this.deselectGroupLabel:""},selectLabelText(){return this.showLabels?this.selectLabel:""},selectGroupLabelText(){return this.showLabels?this.selectGroupLabel:""},selectedLabelText(){return this.showLabels?this.selectedLabel:""},inputStyle(){return this.searchable||this.multiple&&this.value&&this.value.length?this.isOpen?{width:"100%"}:{width:"0",position:"absolute",padding:"0"}:""},contentStyle(){return this.options.length?{display:"inline-block"}:{display:"block"}},isAbove(){return this.openDirection==="above"||this.openDirection==="top"?!0:this.openDirection==="below"||this.openDirection==="bottom"?!1:this.preferredOpenDirection==="above"},showSearchInput(){return this.searchable&&(this.hasSingleSelectedSlot&&(this.visibleSingleValue||this.visibleSingleValue===0)?this.isOpen:!0)}}},we={};var ri=ti(ii,Yt,ei,!1,ni,null,null,null);function ni(t){for(let e in we)this[e]=we[e]}const Se=function(){return ri.exports}();g.Multiselect=Se,g.default=Se,g.multiselectMixin=Q,g.pointerMixin=Y,Object.defineProperties(g,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
